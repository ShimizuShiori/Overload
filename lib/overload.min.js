(function(e,a){"function"===typeof define&&define.amd?define([],function(){return e.overload=a()}):"object"===typeof exports?module.exports=a():e.overload=a()})(this,function(){function e(a){return a.name||a.toString().match(/function\s+([^(]+)/)[1]}function a(a){var f={}.toString.call(a).match(/\s([a-zA-Z]+)/)[1];return"Object"==f?e(a.constructor):f}function h(){var g=[],f=function(){},c=function(){for(var d=0;d<g.length;d++){var b;a:{b=g[d].types;var e=Array.prototype.map.call(arguments,a);if(b.length!=
e.length)b=!1;else{for(var c=0;c<b.length;c++)if(b[c]!==e[c]){b=!1;break a}b=!0}}if(b)return g[d].func.apply(this,arguments)}return f.apply(this,arguments)};c.when=function(d,b){if(2==arguments.length&&"Array"==a(arguments[0])&&"Function"==a(arguments[1])){var f=d.map(e);g.push({types:f,func:b});return c}throw Error("usage: when([types...], function(){ ... });");};c.fallback=function(d){if("Function"==a(d))return f=d,c;throw Error("usage: fallback(function(){ ... });");};return c}return function(){if(1==
arguments.length&&"Function"==a(arguments[0]))return h().when([],arguments[0]);if(2==arguments.length&&"Array"==a(arguments[0])&&"Function"==a(arguments[1]))return h().when(arguments[0],arguments[1]);throw Error("usage: overload(function) or overload(array, function)");}});
